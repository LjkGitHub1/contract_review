# 审核重点配置测试数据填充说明

## 功能说明

已创建Django管理命令用于填充审核重点配置的测试数据，包含三个层级的默认配置。

## 使用方法

### 方法一：使用Django管理命令（推荐）

```bash
cd backend
python manage.py fill_review_focus_config
```

### 方法二：通过Django Admin

1. 访问 `http://localhost:8897/admin/`
2. 登录管理员账号
3. 进入"审核重点配置"模块
4. 手动创建三个层级的配置

### 方法三：通过前端页面

1. 访问 `http://localhost:5173/review-focus-config`
2. 登录系统
3. 点击"新建配置"按钮
4. 依次创建三个层级的配置

## 测试数据内容

### 一级审核员配置

- **层级**：level1（一级审核员）
- **层级名称**：一级审核员
- **审核重点**：
  - 格式规范
  - 基础条款完整性
  - 基本信息准确性
  - 条款编号正确性
- **审核重点描述**：一级审核员重点关注合同格式、基础条款和基本信息。确保合同格式符合要求，基础信息准确完整，基础条款齐全，条款编号正确。
- **审核标准**：符合合同格式要求，基础信息准确完整，基础条款齐全，条款编号正确
- **关注事项**：
  - 合同格式是否符合要求
  - 条款编号是否正确
  - 基本信息是否准确
  - 基础条款是否完整
  - 合同标题是否清晰
  - 合同编号是否规范

### 二级审核员配置

- **层级**：level2（二级审核员）
- **层级名称**：二级审核员
- **审核重点**：
  - 法律合规性
  - 风险识别
  - 条款合理性
  - 权利义务平衡
  - 违约责任约定
- **审核重点描述**：二级审核员重点关注法律合规性、风险识别、条款合理性和权利义务平衡。确保合同条款符合法律法规，识别潜在风险，评估条款合理性，确保双方权利义务平衡。
- **审核标准**：法律合规性、风险等级评估、条款合理性分析、权利义务平衡检查
- **关注事项**：
  - 合同条款是否符合法律法规
  - 是否存在法律风险
  - 条款是否合理
  - 双方权利义务是否平衡
  - 违约责任约定是否合理
  - 争议解决方式是否明确
  - 合同生效条件是否明确

### 三级审核员配置（高级）

- **层级**：level3（三级审核员（高级））
- **层级名称**：三级审核员（高级）
- **审核重点**：
  - 重大风险
  - 战略层面
  - 商业决策
  - 最终批准
  - 战略价值评估
- **审核重点描述**：三级审核员（高级）重点关注重大风险、战略层面、商业决策和最终批准。评估重大风险是否可控，是否符合企业战略，评估商业价值，做出最终决策。
- **审核标准**：重大风险是否可控，是否符合企业战略，商业价值评估，是否批准签署
- **关注事项**：
  - 重大风险点是否可控
  - 是否符合企业战略
  - 商业价值评估
  - 最终决策
  - 合同对企业的影响
  - 长期战略价值
  - 竞争对手分析

## 注意事项

1. **重复执行**：命令使用`get_or_create`方法，重复执行不会创建重复数据，只会更新已存在的数据
2. **用户依赖**：命令会自动查找管理员用户作为创建人和更新人，如果没有管理员用户，会使用第一个用户
3. **数据完整性**：所有配置默认都是启用状态（is_active=True）

## 验证数据

填充完成后，可以通过以下方式验证：

### 1. 通过API验证

```bash
# 获取所有配置
curl http://localhost:8897/api/reviews/focus-configs/

# 获取一级审核员配置
curl http://localhost:8897/api/reviews/focus-configs/by_level/?level=level1
```

### 2. 通过前端页面验证

访问 `http://localhost:5173/review-focus-config`，应该能看到三个层级的配置。

### 3. 通过Django Admin验证

访问 `http://localhost:8897/admin/reviews/reviewfocusconfig/`，应该能看到三条配置记录。

## 更新测试数据

如果需要更新测试数据，可以：

1. **删除现有数据后重新填充**：
   ```python
   # 在Django shell中执行
   from apps.reviews.models import ReviewFocusConfig
   ReviewFocusConfig.objects.all().delete()
   # 然后重新运行填充命令
   ```

2. **直接在前端页面编辑**：访问前端页面，直接编辑配置内容

3. **通过API更新**：使用PATCH请求更新配置

---

**创建时间**：2024年12月22日

