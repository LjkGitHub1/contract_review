<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI智能合同审核系统 - 完整功能流程图</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 2000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #1e3a8a;
            margin-bottom: 40px;
            font-size: 32px;
        }

        h2 {
            color: #3b82f6;
            margin: 40px 0 20px 0;
            font-size: 24px;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }

        .diagram-container {
            margin: 30px 0;
            background: white;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow-x: auto;
        }

        svg {
            display: block;
            margin: 0 auto;
        }

        .legend {
            margin-top: 20px;
            padding: 15px;
            background: #f9fafb;
            border-radius: 5px;
            font-size: 12px;
        }

        .legend-item {
            display: inline-block;
            margin-right: 20px;
        }

        .legend-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 5px;
            vertical-align: middle;
            border: 1px solid #333;
        }

        .section-title {
            background: #e0e7ff;
            padding: 10px 15px;
            margin: 30px 0 15px 0;
            border-left: 4px solid #3b82f6;
            font-size: 18px;
            font-weight: bold;
            color: #1e3a8a;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI智能合同审核系统 - 完整功能流程图</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">基于智能合同需求文档，展示系统所有功能模块的完整业务流程</p>

        <div class="diagram-container">
            <svg width="1900" height="3000" xmlns="http://www.w3.org/2000/svg">
                <!-- 定义箭头标记 -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#333" />
                    </marker>
                    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
                    </marker>
                    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                    </marker>
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                    </marker>
                </defs>

                <!-- ========== 第一部分：用户登录与权限管理 ========== -->
                <!-- 开始 -->
                <rect x="900" y="20" width="100" height="50" rx="5" fill="#10b981" stroke="#333" stroke-width="2"/>
                <text x="950" y="50" text-anchor="middle" fill="white" font-size="14" font-weight="bold">系统启动</text>

                <!-- 用户登录 -->
                <rect x="850" y="100" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="950" y="130" text-anchor="middle" fill="white" font-size="13">用户登录</text>
                <text x="950" y="145" text-anchor="middle" fill="white" font-size="10">JWT Token认证</text>

                <!-- 权限验证 -->
                <polygon points="850,180 950,180 950,220 850,220" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="900" y="205" text-anchor="middle" fill="white" font-size="12" font-weight="bold">权限验证</text>

                <!-- 角色分支 -->
                <rect x="600" y="260" width="150" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="675" y="285" text-anchor="middle" fill="white" font-size="12">管理员</text>
                <text x="675" y="300" text-anchor="middle" fill="white" font-size="10">admin</text>

                <rect x="850" y="260" width="150" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="925" y="285" text-anchor="middle" fill="white" font-size="12">审核员</text>
                <text x="925" y="300" text-anchor="middle" fill="white" font-size="10">reviewer</text>

                <rect x="1100" y="260" width="150" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="1175" y="285" text-anchor="middle" fill="white" font-size="12">起草人</text>
                <text x="1175" y="300" text-anchor="middle" fill="white" font-size="10">drafter</text>

                <!-- ========== 第二部分：合同起草流程 ========== -->
                <!-- 合同起草入口 -->
                <rect x="850" y="350" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="950" y="380" text-anchor="middle" fill="white" font-size="13" font-weight="bold">合同起草模块</text>

                <!-- 选择模板 -->
                <rect x="850" y="430" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="950" y="460" text-anchor="middle" fill="white" font-size="13">选择模板（可选）</text>

                <!-- 填写基本信息 -->
                <rect x="850" y="510" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="950" y="540" text-anchor="middle" fill="white" font-size="13">填写基本信息</text>

                <!-- AI初步生成合同内容 -->
                <rect x="850" y="590" width="200" height="60" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="950" y="615" text-anchor="middle" fill="white" font-size="13" font-weight="bold">AI初步生成合同内容</text>
                <text x="950" y="635" text-anchor="middle" fill="white" font-size="10">基于模板和基本信息</text>

                <!-- 判断：输入方式 -->
                <polygon points="850,680 950,680 950,720 850,720" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="900" y="705" text-anchor="middle" fill="white" font-size="12" font-weight="bold">输入方式？</text>

                <!-- 上传文件 -->
                <rect x="500" y="760" width="150" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="575" y="785" text-anchor="middle" fill="white" font-size="12">上传文件</text>
                <text x="575" y="800" text-anchor="middle" fill="white" font-size="10">Word/PDF</text>

                <!-- 文件解析 -->
                <rect x="500" y="840" width="150" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="575" y="865" text-anchor="middle" fill="white" font-size="12">文件解析</text>
                <text x="575" y="880" text-anchor="middle" fill="white" font-size="10">python-docx/pymupdf</text>

                <!-- 手动输入 -->
                <rect x="1250" y="760" width="150" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1325" y="785" text-anchor="middle" fill="white" font-size="12">手动输入</text>
                <text x="1325" y="800" text-anchor="middle" fill="white" font-size="10">合同内容</text>

                <!-- 使用AI生成内容 -->
                <rect x="1250" y="840" width="150" height="50" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1325" y="865" text-anchor="middle" fill="white" font-size="12">使用AI生成</text>
                <text x="1325" y="880" text-anchor="middle" fill="white" font-size="10">智能生成</text>

                <!-- 编辑合同内容 -->
                <rect x="850" y="920" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="950" y="950" text-anchor="middle" fill="white" font-size="13">编辑合同内容</text>
                <text x="950" y="965" text-anchor="middle" fill="white" font-size="10">Quill富文本编辑器</text>

                <!-- 保存草稿 -->
                <rect x="850" y="1000" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="950" y="1030" text-anchor="middle" fill="white" font-size="13">保存草稿</text>

                <!-- 版本管理 -->
                <rect x="850" y="1080" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="950" y="1110" text-anchor="middle" fill="white" font-size="13">版本管理</text>
                <text x="950" y="1125" text-anchor="middle" fill="white" font-size="10">自动版本号递增</text>

                <!-- 提交审核 -->
                <rect x="850" y="1160" width="200" height="50" rx="5" fill="#ef4444" stroke="#333" stroke-width="2"/>
                <text x="950" y="1190" text-anchor="middle" fill="white" font-size="13" font-weight="bold">提交审核</text>

                <!-- ========== 第三部分：合同审核流程 ========== -->
                <!-- 审核任务创建 -->
                <rect x="850" y="1250" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="950" y="1280" text-anchor="middle" fill="white" font-size="13" font-weight="bold">审核任务创建</text>

                <!-- 判断：自动审核或人工审核 -->
                <polygon points="850,1330 950,1330 950,1370 850,1370" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="900" y="1355" text-anchor="middle" fill="white" font-size="12" font-weight="bold">审核类型？</text>

                <!-- ========== 自动审核分支 ========== -->
                <!-- 提交到质检中心 -->
                <rect x="500" y="1410" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="600" y="1440" text-anchor="middle" fill="white" font-size="13" font-weight="bold">质检中心（自动审核）</text>

                <!-- 上传多格式文件 -->
                <rect x="500" y="1490" width="200" height="60" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="600" y="1515" text-anchor="middle" fill="white" font-size="12">上传多格式文件</text>
                <text x="600" y="1535" text-anchor="middle" fill="white" font-size="10">Word/PDF/TXT/扫描件/图片</text>

                <!-- 规则引擎扫描 -->
                <rect x="200" y="1590" width="180" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="290" y="1620" text-anchor="middle" fill="white" font-size="12">规则引擎扫描</text>
                <text x="290" y="1635" text-anchor="middle" fill="white" font-size="9">通用/行业/企业规则</text>

                <!-- 大模型语义理解 -->
                <rect x="200" y="1670" width="180" height="50" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="290" y="1700" text-anchor="middle" fill="white" font-size="12">大模型语义理解</text>
                <text x="290" y="1715" text-anchor="middle" fill="white" font-size="9">AI模型分析</text>

                <!-- 条款识别 -->
                <rect x="200" y="1750" width="180" height="60" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="290" y="1775" text-anchor="middle" fill="white" font-size="12">条款识别（AI）</text>
                <text x="290" y="1795" text-anchor="middle" fill="white" font-size="9">主体/标的/期限/责任/付款</text>

                <!-- 风险识别 -->
                <rect x="200" y="1840" width="180" height="60" rx="5" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="290" y="1865" text-anchor="middle" fill="white" font-size="12">风险识别</text>
                <text x="290" y="1885" text-anchor="middle" fill="white" font-size="9">合法性/合规性/完整性/财务</text>

                <!-- 风险量化分级 -->
                <rect x="200" y="1930" width="180" height="50" rx="5" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="290" y="1960" text-anchor="middle" fill="white" font-size="12">风险量化分级</text>
                <text x="290" y="1975" text-anchor="middle" fill="white" font-size="9">高/中/低风险</text>

                <!-- 逐条扫描对比评分 -->
                <rect x="200" y="2010" width="180" height="60" rx="5" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="290" y="2035" text-anchor="middle" fill="white" font-size="12">逐条扫描对比评分</text>
                <text x="290" y="2055" text-anchor="middle" fill="white" font-size="9">与规则库对比</text>

                <!-- 输出修改建议 -->
                <rect x="200" y="2100" width="180" height="50" rx="5" fill="#ef4444" stroke="#333" stroke-width="2"/>
                <text x="290" y="2130" text-anchor="middle" fill="white" font-size="12">输出修改建议</text>

                <!-- 生成审核报告 -->
                <rect x="500" y="2200" width="200" height="60" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="600" y="2225" text-anchor="middle" fill="white" font-size="13">生成审核报告</text>
                <text x="600" y="2245" text-anchor="middle" fill="white" font-size="11">合同信息/风险概览/修改建议/法律依据</text>

                <!-- 导出报告 -->
                <rect x="500" y="2290" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="600" y="2320" text-anchor="middle" fill="white" font-size="13">导出报告</text>
                <text x="600" y="2335" text-anchor="middle" fill="white" font-size="10">Word/PDF格式</text>

                <!-- ========== 人工审核分支 ========== -->
                <!-- 多级人工审核 -->
                <rect x="1200" y="1410" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1300" y="1440" text-anchor="middle" fill="white" font-size="13" font-weight="bold">多级人工审核</text>

                <!-- 分配审核任务 -->
                <rect x="1200" y="1490" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="1300" y="1520" text-anchor="middle" fill="white" font-size="13">分配审核任务</text>

                <!-- 一级审核员审核 -->
                <rect x="1200" y="1570" width="200" height="70" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="1300" y="1595" text-anchor="middle" fill="white" font-size="13" font-weight="bold">一级审核员审核</text>
                <text x="1300" y="1615" text-anchor="middle" fill="white" font-size="10">重点：格式规范、基础条款</text>
                <text x="1300" y="1630" text-anchor="middle" fill="white" font-size="10">完整性、基本信息准确性</text>

                <!-- AI建议生成（一级） -->
                <rect x="1450" y="1570" width="150" height="70" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1525" y="1595" text-anchor="middle" fill="white" font-size="11">AI生成审核建议</text>
                <text x="1525" y="1615" text-anchor="middle" fill="white" font-size="9">基于审核重点配置</text>
                <text x="1525" y="1630" text-anchor="middle" fill="white" font-size="9">硅基流动模型</text>

                <!-- 判断：一级审核是否通过 -->
                <polygon points="1200,1660 1300,1660 1300,1700 1200,1700" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="1250" y="1685" text-anchor="middle" fill="white" font-size="11" font-weight="bold">一级审核通过？</text>

                <!-- 二级审核员审核 -->
                <rect x="1200" y="1730" width="200" height="70" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1300" y="1755" text-anchor="middle" fill="white" font-size="13" font-weight="bold">二级审核员审核</text>
                <text x="1300" y="1775" text-anchor="middle" fill="white" font-size="10">重点：法律合规性、风险识别</text>
                <text x="1300" y="1790" text-anchor="middle" fill="white" font-size="10">条款合理性、权利义务平衡</text>

                <!-- AI建议生成（二级） -->
                <rect x="1450" y="1730" width="150" height="70" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1525" y="1755" text-anchor="middle" fill="white" font-size="11">AI生成审核建议</text>
                <text x="1525" y="1775" text-anchor="middle" fill="white" font-size="9">基于审核重点配置</text>
                <text x="1525" y="1790" text-anchor="middle" fill="white" font-size="9">硅基流动模型</text>

                <!-- 判断：二级审核是否通过 -->
                <polygon points="1200,1820 1300,1820 1300,1860 1200,1860" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="1250" y="1845" text-anchor="middle" fill="white" font-size="11" font-weight="bold">二级审核通过？</text>

                <!-- 三级审核员审核 -->
                <rect x="1200" y="1890" width="200" height="70" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1300" y="1915" text-anchor="middle" fill="white" font-size="13" font-weight="bold">三级审核员审核（高级）</text>
                <text x="1300" y="1935" text-anchor="middle" fill="white" font-size="10">重点：重大风险、战略层面</text>
                <text x="1300" y="1950" text-anchor="middle" fill="white" font-size="10">商业决策、最终批准</text>

                <!-- AI建议生成（三级） -->
                <rect x="1450" y="1800" width="150" height="70" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1525" y="1825" text-anchor="middle" fill="white" font-size="11">AI生成审核建议</text>
                <text x="1525" y="1845" text-anchor="middle" fill="white" font-size="9">基于审核重点配置</text>
                <text x="1525" y="1860" text-anchor="middle" fill="white" font-size="9">硅基流动模型</text>

                <!-- ========== 第四部分：审核意见闭环 ========== -->
                <!-- 审核意见闭环 -->
                <rect x="850" y="1990" width="200" height="50" rx="5" fill="#10b981" stroke="#333" stroke-width="2"/>
                <text x="950" y="2020" text-anchor="middle" fill="white" font-size="13" font-weight="bold">审核意见闭环</text>

                <!-- 自动汇总审核意见 -->
                <rect x="500" y="2070" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="600" y="2100" text-anchor="middle" fill="white" font-size="12">自动汇总各层级审核意见</text>

                <!-- 生成意见汇总表 -->
                <rect x="500" y="2150" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="600" y="2180" text-anchor="middle" fill="white" font-size="12">生成审核意见汇总表</text>

                <!-- 反馈给起草人 -->
                <rect x="850" y="2070" width="200" height="50" rx="5" fill="#10b981" stroke="#333" stroke-width="2"/>
                <text x="950" y="2100" text-anchor="middle" fill="white" font-size="13">反馈给合同起草人</text>

                <!-- 起草人修改合同 -->
                <rect x="850" y="2150" width="200" height="50" rx="5" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="950" y="2180" text-anchor="middle" fill="white" font-size="13">起草人修改合同</text>

                <!-- 判断：是否重新提交 -->
                <polygon points="850,2230 950,2230 950,2270 850,2270" fill="#f59e0b" stroke="#333" stroke-width="2"/>
                <text x="900" y="2255" text-anchor="middle" fill="white" font-size="12" font-weight="bold">重新提交？</text>

                <!-- 重新提交审核 -->
                <rect x="850" y="2310" width="200" height="50" rx="5" fill="#3b82f6" stroke="#333" stroke-width="2"/>
                <text x="950" y="2340" text-anchor="middle" fill="white" font-size="13">重新提交审核</text>

                <!-- ========== 第五部分：辅助功能模块 ========== -->
                <!-- 知识图谱 -->
                <rect x="1200" y="1990" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2020" text-anchor="middle" fill="white" font-size="13">知识图谱</text>
                <text x="1300" y="2035" text-anchor="middle" fill="white" font-size="10">法律法规/案例库</text>

                <!-- 对比分析 -->
                <rect x="1200" y="2070" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2100" text-anchor="middle" fill="white" font-size="13">对比分析</text>
                <text x="1300" y="2115" text-anchor="middle" fill="white" font-size="10">版本/模板/跨行业对比</text>

                <!-- 智能推荐 -->
                <rect x="1200" y="2150" width="200" height="50" rx="5" fill="#8b5cf6" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2180" text-anchor="middle" fill="white" font-size="13">智能推荐</text>
                <text x="1300" y="2195" text-anchor="middle" fill="white" font-size="10">条款/模板/风险应对建议</text>

                <!-- ========== 第六部分：系统配置 ========== -->
                <!-- AI模型配置 -->
                <rect x="1200" y="2230" width="200" height="50" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2260" text-anchor="middle" fill="white" font-size="13">AI模型配置</text>
                <text x="1300" y="2275" text-anchor="middle" fill="white" font-size="10">硅基流动/OpenAI等</text>

                <!-- 审核重点配置 -->
                <rect x="1200" y="2310" width="200" height="50" rx="5" fill="#ec4899" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2340" text-anchor="middle" fill="white" font-size="13">审核重点配置</text>
                <text x="1300" y="2355" text-anchor="middle" fill="white" font-size="10">一级/二级/三级审核重点</text>

                <!-- 规则引擎管理 -->
                <rect x="1200" y="2390" width="200" height="50" rx="5" fill="#6366f1" stroke="#333" stroke-width="2"/>
                <text x="1300" y="2420" text-anchor="middle" fill="white" font-size="13">规则引擎管理</text>
                <text x="1300" y="2435" text-anchor="middle" fill="white" font-size="10">通用/行业/企业规则</text>

                <!-- 结束 -->
                <rect x="900" y="2390" width="100" height="50" rx="5" fill="#10b981" stroke="#333" stroke-width="2"/>
                <text x="950" y="2420" text-anchor="middle" fill="white" font-size="14" font-weight="bold">结束</text>

                <!-- ========== 连接线 ========== -->
                <!-- 登录流程 -->
                <line x1="950" y1="70" x2="950" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="150" x2="950" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <!-- 权限分支 -->
                <line x1="850" y1="200" x2="675" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="200" x2="925" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="200" x2="1175" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 合同起草流程 -->
                <line x1="950" y1="310" x2="950" y2="350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="400" x2="950" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="480" x2="950" y2="510" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="560" x2="950" y2="590" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <!-- AI生成连接 -->
                <line x1="950" y1="650" x2="1325" y2="840" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
                <text x="1140" y="745" fill="#ec4899" font-size="11" font-weight="bold">使用AI生成</text>
                
                <!-- 输入方式分支 -->
                <line x1="850" y1="700" x2="575" y2="760" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="700" y="730" fill="#333" font-size="11">上传文件</text>
                <line x1="950" y1="700" x2="1325" y2="760" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="1140" y="730" fill="#333" font-size="11">手动输入</text>
                
                <line x1="575" y1="810" x2="850" y2="920" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1325" y1="810" x2="950" y2="920" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1325" y1="890" x2="950" y2="920" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
                
                <line x1="950" y1="970" x2="950" y2="1000" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="1050" x2="950" y2="1080" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="1130" x2="950" y2="1160" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 审核流程 -->
                <line x1="950" y1="1210" x2="950" y2="1250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="1300" x2="950" y2="1330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <!-- 审核类型分支 -->
                <line x1="850" y1="1350" x2="600" y2="1410" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="720" y="1380" fill="#333" font-size="11">自动审核</text>
                <line x1="950" y1="1350" x2="1300" y2="1410" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="1125" y="1380" fill="#333" font-size="11">人工审核</text>

                <!-- 自动审核流程 -->
                <line x1="600" y1="1440" x2="600" y2="1490" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="600" y1="1550" x2="290" y2="1590" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="445" y="1570" fill="#333" font-size="11">质检中心处理</text>
                
                <line x1="290" y1="1640" x2="290" y2="1670" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="1720" x2="290" y2="1750" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="1810" x2="290" y2="1840" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="1900" x2="290" y2="1930" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="1980" x2="290" y2="2010" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="2060" x2="290" y2="2100" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="290" y1="2150" x2="600" y2="2200" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="600" y1="2260" x2="600" y2="2290" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 人工审核流程 -->
                <line x1="1300" y1="1460" x2="1300" y2="1490" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="1540" x2="1300" y2="1570" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="1640" x2="1525" y2="1570" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
                <text x="1410" y="1605" fill="#3b82f6" font-size="10">AI辅助</text>
                
                <line x1="1300" y1="1640" x2="1300" y2="1660" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1250" y1="1680" x2="1300" y2="1730" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="1175" y="1705" fill="#333" font-size="10">通过</text>
                
                <line x1="1300" y1="1640" x2="600" y2="2070" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-red)"/>
                <text x="950" y="1855" fill="#ef4444" font-size="10" font-weight="bold">不通过</text>
                
                <line x1="1300" y1="1700" x2="1300" y2="1730" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="1800" x2="1525" y2="1730" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
                <text x="1410" y="1765" fill="#3b82f6" font-size="10">AI辅助</text>
                
                <line x1="1300" y1="1800" x2="1300" y2="1820" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1250" y1="1840" x2="1300" y2="1890" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="1175" y="1865" fill="#333" font-size="10">通过</text>
                
                <line x1="1300" y1="1860" x2="600" y2="2070" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-red)"/>
                <text x="950" y="1965" fill="#ef4444" font-size="10" font-weight="bold">不通过</text>
                
                <line x1="1300" y1="1960" x2="1525" y2="1890" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
                <text x="1410" y="1925" fill="#3b82f6" font-size="10">AI辅助</text>
                
                <line x1="1300" y1="1960" x2="950" y2="1990" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 审核意见闭环流程 -->
                <line x1="950" y1="2040" x2="600" y2="2070" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="775" y="2055" fill="#333" font-size="11">汇总意见</text>
                
                <line x1="600" y1="2120" x2="600" y2="2150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="600" y1="2200" x2="950" y2="2070" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <line x1="950" y1="2120" x2="950" y2="2150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="950" y1="2200" x2="950" y2="2230" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <line x1="900" y1="2270" x2="950" y2="2310" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
                <text x="925" y="2290" fill="#333" font-size="11">是</text>
                
                <!-- 闭环反馈线 -->
                <line x1="850" y1="2230" x2="850" y2="1160" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-green)"/>
                <text x="820" y="1695" fill="#10b981" font-size="10" font-weight="bold">闭环反馈</text>
                
                <line x1="950" y1="2360" x2="950" y2="2390" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 辅助功能连接 -->
                <line x1="1300" y1="2040" x2="1300" y2="1990" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="2120" x2="1300" y2="2070" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="2200" x2="1300" y2="2150" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="2280" x2="1300" y2="2230" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="2360" x2="1300" y2="2310" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="1300" y1="2440" x2="1300" y2="2390" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- 系统配置连接 -->
                <line x1="950" y1="2360" x2="1200" y2="2390" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
                <text x="1075" y="2375" fill="#8b5cf6" font-size="10">系统配置</text>

                <!-- 异步任务标注 -->
                <text x="50" y="1800" fill="#666" font-size="10" font-style="italic">(Celery异步任务)</text>
                <line x1="50" y1="1790" x2="200" y2="1775" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>

                <!-- 风险预警标注 -->
                <text x="50" y="1900" fill="#f59e0b" font-size="10" font-weight="bold">风险预警</text>
                <line x1="50" y1="1890" x2="200" y2="1875" stroke="#f59e0b" stroke-width="1" stroke-dasharray="3,3"/>
            </svg>
        </div>

        <div class="legend">
            <strong>图例说明：</strong>
            <span class="legend-item"><span class="legend-box" style="background: #10b981;"></span>开始/结束</span>
            <span class="legend-item"><span class="legend-box" style="background: #3b82f6;"></span>处理步骤</span>
            <span class="legend-item"><span class="legend-box" style="background: #f59e0b;"></span>判断节点</span>
            <span class="legend-item"><span class="legend-box" style="background: #8b5cf6;"></span>功能模块</span>
            <span class="legend-item"><span class="legend-box" style="background: #6366f1;"></span>操作步骤</span>
            <span class="legend-item"><span class="legend-box" style="background: #ef4444;"></span>关键操作</span>
            <span class="legend-item"><span class="legend-box" style="background: #ec4899;"></span>AI功能</span>
            <span class="legend-item"><span style="color: #ef4444; font-weight: bold;">红色虚线</span>不通过/返回</span>
            <span class="legend-item"><span style="color: #10b981; font-weight: bold;">绿色虚线</span>闭环反馈</span>
            <span class="legend-item"><span style="color: #3b82f6; font-weight: bold;">蓝色线</span>AI辅助</span>
        </div>

        <div class="section-title">功能模块说明</div>
        <div style="margin: 20px 0; line-height: 2;">
            <h3 style="color: #3b82f6; margin-top: 20px;">一、用户认证与权限管理</h3>
            <ul style="margin-left: 20px;">
                <li><strong>用户登录：</strong>JWT Token认证，支持管理员、审核员、起草人三种角色</li>
                <li><strong>权限验证：</strong>基于角色的访问控制（RBAC）</li>
            </ul>

            <h3 style="color: #3b82f6; margin-top: 20px;">二、合同起草模块</h3>
            <ul style="margin-left: 20px;">
                <li><strong>模板选择：</strong>可选择使用合同模板</li>
                <li><strong>基本信息填写：</strong>合同编号、标题、类型、行业等</li>
                <li><strong>内容输入：</strong>支持文件上传（Word/PDF）或手动输入</li>
                <li><strong>文件解析：</strong>自动解析Word和PDF文件内容</li>
                <li><strong>内容编辑：</strong>使用Quill富文本编辑器编辑合同内容</li>
                <li><strong>版本管理：</strong>自动版本号递增，支持版本历史查看</li>
                <li><strong>保存草稿：</strong>可保存为草稿状态</li>
            </ul>

            <h3 style="color: #3b82f6; margin-top: 20px;">三、合同审核模块</h3>
            <h4 style="color: #8b5cf6; margin-top: 15px;">3.1 自动审核（质检中心）</h4>
            <ul style="margin-left: 20px;">
                <li><strong>规则引擎扫描：</strong>使用通用规则、行业规则、企业规则进行匹配</li>
                <li><strong>大模型语义理解：</strong>使用AI模型进行语义分析和理解</li>
                <li><strong>条款识别：</strong>AI自动识别合同关键条款（主体、标的、期限、责任、付款等）</li>
                <li><strong>风险识别：</strong>多维度风险识别（合法性、合规性、完整性、财务风险）</li>
                <li><strong>风险量化分级：</strong>将风险分为高、中、低三个等级</li>
                <li><strong>逐条扫描对比评分：</strong>与规则库逐条对比并评分</li>
                <li><strong>生成审核报告：</strong>包含合同信息、风险概览、修改建议、法律依据</li>
                <li><strong>导出报告：</strong>支持Word和PDF格式</li>
            </ul>

            <h4 style="color: #8b5cf6; margin-top: 15px;">3.2 人工审核（多级审核）</h4>
            <ul style="margin-left: 20px;">
                <li><strong>一级审核员：</strong>重点审核格式规范、基础条款完整性、基本信息准确性</li>
                <li><strong>二级审核员：</strong>重点审核法律合规性、风险识别、条款合理性、权利义务平衡</li>
                <li><strong>三级审核员（高级）：</strong>重点审核重大风险、战略层面、商业决策、最终批准</li>
                <li><strong>AI辅助审核：</strong>每个层级审核时，AI根据审核重点配置生成针对性建议</li>
                <li><strong>审核决策：</strong>每个层级审核后判断是否通过，不通过则返回修改</li>
            </ul>

            <h3 style="color: #3b82f6; margin-top: 20px;">四、审核意见闭环</h3>
            <ul style="margin-left: 20px;">
                <li><strong>自动汇总：</strong>自动汇总各层级审核意见</li>
                <li><strong>生成汇总表：</strong>生成审核意见汇总表</li>
                <li><strong>反馈给起草人：</strong>将审核意见反馈给合同起草人</li>
                <li><strong>起草人修改：</strong>起草人根据审核意见修改合同</li>
                <li><strong>重新提交：</strong>修改后可重新提交审核，形成闭环</li>
            </ul>

            <h3 style="color: #3b82f6; margin-top: 20px;">五、辅助功能模块</h3>
            <ul style="margin-left: 20px;">
                <li><strong>知识图谱：</strong>法律法规库、案例库、知识实体关系管理</li>
                <li><strong>对比分析：</strong>版本对比、模板对比、跨行业对比</li>
                <li><strong>智能推荐：</strong>条款推荐、模板推荐、风险应对建议推荐</li>
            </ul>

            <h3 style="color: #3b82f6; margin-top: 20px;">六、系统配置模块</h3>
            <ul style="margin-left: 20px;">
                <li><strong>AI模型配置：</strong>配置硅基流动、OpenAI等AI模型接口，设置默认模型</li>
                <li><strong>审核重点配置：</strong>为不同层级审核员配置审核重点和关注事项</li>
                <li><strong>规则引擎管理：</strong>管理通用规则、行业规则、企业规则</li>
            </ul>
        </div>
    </div>
</body>
</html>

