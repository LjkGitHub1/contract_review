# AI智能合同审核系统 - 环境要求

## 一、操作系统要求

### 推荐系统
- **Windows 10/11** (当前项目基于Windows开发)
- **Linux** (Ubuntu 20.04+ / CentOS 7+)
- **macOS** (10.15+)

## 二、后端环境要求

### 1. Python环境
- **Python版本**: Python 3.8 - 3.11
- **推荐版本**: Python 3.10 或 3.11

### 2. Python依赖包
所有依赖在 `backend/requirements.txt` 中定义，主要包括：

```
Django==4.2.7                    # Web框架
djangorestframework==3.14.0      # REST API框架
django-filter==23.3              # 过滤功能
djangorestframework-simplejwt==5.3.0  # JWT认证
celery==5.3.4                    # 异步任务队列
redis==5.0.1                     # Redis客户端
mysqlclient==2.2.0               # MySQL数据库驱动
python-dotenv==1.0.0             # 环境变量管理
Pillow==10.1.0                   # 图像处理
django-cors-headers==4.3.1       # CORS支持
pymupdf==1.23.8                  # PDF处理
python-docx==1.1.0               # Word文档处理
openpyxl==3.1.2                  # Excel处理
```

### 3. 数据库
- **MySQL版本**: MySQL 8.0 或更高版本
- **字符集**: UTF8MB4
- **存储引擎**: InnoDB
- **最低配置**: 
  - 内存: 2GB+
  - 磁盘: 10GB+ (根据数据量调整)

### 4. Redis
- **Redis版本**: Redis 5.0+ (推荐 6.0+)
- **用途**: Celery消息队列和结果存储
- **最低配置**:
  - 内存: 512MB+
  - 端口: 6379 (默认)

## 三、前端环境要求

### 1. Node.js环境
- **Node.js版本**: Node.js 16.x - 20.x
- **推荐版本**: Node.js 18.x LTS
- **npm版本**: npm 8.x+ (随Node.js自动安装)

### 2. 前端依赖包
所有依赖在 `frontend/package.json` 中定义，主要包括：

```json
{
  "dependencies": {
    "vue": "^3.3.4",                    // Vue框架
    "vue-router": "^4.2.5",            // 路由
    "pinia": "^2.1.7",                 // 状态管理
    "element-plus": "^2.4.4",          // UI组件库
    "@element-plus/icons-vue": "^2.3.1", // 图标库
    "plus-pro-components": "^1.0.0",   // 高级组件
    "axios": "^1.6.2",                 // HTTP客户端
    "@vueuse/core": "^10.7.0"          // Vue工具库
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^4.5.0",    // Vite Vue插件
    "vite": "^5.0.8",                  // 构建工具
    "sass": "^1.69.5"                  // CSS预处理器
  }
}
```

## 四、开发工具（可选但推荐）

### 1. 代码编辑器
- **Visual Studio Code** (推荐)
- **PyCharm** (Python开发)
- **WebStorm** (前端开发)

### 2. 数据库管理工具
- **MySQL Workbench**
- **Navicat for MySQL**
- **phpMyAdmin**
- **DBeaver**

### 3. API测试工具
- **Postman**
- **Insomnia**
- **Thunder Client** (VS Code插件)

### 4. 版本控制
- **Git** 2.30+
- **GitHub Desktop** (可选)

## 五、环境变量配置

### 后端环境变量 (.env文件)
需要在 `backend/.env` 文件中配置以下变量：

```env
# Django配置
SECRET_KEY=your-secret-key-here
DEBUG=True

# 数据库配置
DB_NAME=contract_review
DB_USER=root
DB_PASSWORD=your-password
DB_HOST=localhost
DB_PORT=3306

# Celery配置
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
```

## 六、系统资源要求

### 开发环境（最低配置）
- **CPU**: 2核心
- **内存**: 4GB RAM
- **磁盘**: 20GB 可用空间
- **网络**: 稳定的互联网连接（用于下载依赖）

### 生产环境（推荐配置）
- **CPU**: 4核心+
- **内存**: 8GB RAM+
- **磁盘**: 50GB+ 可用空间（SSD推荐）
- **网络**: 稳定的网络连接

## 七、端口要求

确保以下端口可用：

- **8000**: Django开发服务器
- **5173**: Vite前端开发服务器
- **3306**: MySQL数据库（默认）
- **6379**: Redis（默认）

## 八、安装步骤概览

### 1. 安装Python
```bash
# Windows: 从 python.org 下载安装
# Linux: sudo apt install python3.10 python3-pip
# macOS: brew install python@3.10
```

### 2. 安装MySQL
```bash
# Windows: 从 mysql.com 下载安装
# Linux: sudo apt install mysql-server
# macOS: brew install mysql
```

### 3. 安装Redis
```bash
# Windows: 从 github.com/microsoftarchive/redis/releases 下载
# Linux: sudo apt install redis-server
# macOS: brew install redis
```

### 4. 安装Node.js
```bash
# 从 nodejs.org 下载安装 LTS 版本
```

### 5. 安装项目依赖
```bash
# 后端
cd backend
pip install -r requirements.txt

# 前端
cd frontend
npm install
```

## 九、环境检查清单

在开始项目前，请确认：

- [ ] Python 3.8+ 已安装 (`python --version`)
- [ ] pip 已安装 (`pip --version`)
- [ ] MySQL 8.0+ 已安装并运行 (`mysql --version`)
- [ ] Redis 已安装并运行 (`redis-cli ping`)
- [ ] Node.js 16+ 已安装 (`node --version`)
- [ ] npm 已安装 (`npm --version`)
- [ ] 数据库已创建
- [ ] 环境变量已配置
- [ ] 所需端口未被占用

## 十、常见问题

### 1. MySQL连接问题
- 确保MySQL服务正在运行
- 检查用户名和密码是否正确
- 确认数据库已创建
- 检查防火墙设置

### 2. Redis连接问题
- 确保Redis服务正在运行
- 检查Redis配置和端口
- Windows用户可能需要手动启动Redis服务

### 3. Python包安装失败
- 使用国内镜像源：`pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple`
- 确保pip版本最新：`pip install --upgrade pip`
- Windows用户可能需要安装Visual C++ Build Tools

### 4. Node.js依赖安装失败
- 使用国内镜像源：`npm config set registry https://registry.npmmirror.com`
- 清除缓存：`npm cache clean --force`
- 删除node_modules后重新安装

### 5. 端口被占用
- Windows: `netstat -ano | findstr :8000` 查找占用进程
- Linux/macOS: `lsof -i :8000` 查找占用进程
- 修改配置文件中的端口号

## 十一、推荐开发环境配置

### Windows用户
1. 安装 **Python 3.10** (从python.org)
2. 安装 **MySQL 8.0** (从mysql.com)
3. 安装 **Redis for Windows** (从GitHub)
4. 安装 **Node.js 18 LTS** (从nodejs.org)
5. 安装 **Visual Studio Code**
6. 安装 **Git for Windows**

### Linux用户 (Ubuntu/Debian)
```bash
# 更新系统
sudo apt update && sudo apt upgrade -y

# 安装Python
sudo apt install python3.10 python3-pip python3-venv

# 安装MySQL
sudo apt install mysql-server
sudo mysql_secure_installation

# 安装Redis
sudo apt install redis-server
sudo systemctl start redis-server

# 安装Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# 安装Git
sudo apt install git
```

### macOS用户
```bash
# 安装Homebrew (如果未安装)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装Python
brew install python@3.10

# 安装MySQL
brew install mysql
brew services start mysql

# 安装Redis
brew install redis
brew services start redis

# 安装Node.js
brew install node@18
```

## 十二、虚拟环境（推荐）

### Python虚拟环境
```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境
# Windows:
venv\Scripts\activate
# Linux/macOS:
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

这样可以避免与系统Python包的冲突。

---

**注意**: 以上环境要求是基于当前项目配置的。如果遇到版本兼容性问题，请参考各软件包的官方文档。

