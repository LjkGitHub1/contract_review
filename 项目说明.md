# AI智能合同审核系统 - 项目说明

## 项目概述

这是一个完整的AI智能合同审核系统，包含后端Django API和前端Vue3界面，实现了合同管理、智能审核、风险识别等核心功能。

## 已完成功能

### 1. 数据库设计 ✅
- 完整的数据库设计文档（`数据库设计文档.md`）
- 包含所有9个核心模块的数据表设计
- 支持MySQL 8.0，使用UTF8MB4字符集

### 2. 后端Django项目 ✅
- **用户与权限管理模块** (`apps/users/`)
  - 用户管理（自定义User模型）
  - 部门管理
  - 角色权限管理（RBAC）
  - 审计日志
  
- **合同管理模块** (`apps/contracts/`)
  - 合同CRUD操作
  - 合同版本管理
  - 模板库管理
  - 用户习惯记录

- **合同审核模块** (`apps/reviews/`)
  - 审核任务管理
  - 审核结果生成
  - 审核意见管理
  - 审核闭环流程
  - Celery异步任务支持

- **规则引擎模块** (`apps/rules/`)
  - 审核规则管理
  - 规则匹配记录

- **条款识别模块** (`apps/clauses/`)
  - 合同条款提取
  - 条款确认功能

- **风险识别模块** (`apps/risks/`)
  - 风险识别记录
  - 风险处理流程

- **对比分析模块** (`apps/comparisons/`)
  - 版本对比
  - 模板对比
  - 跨行业对比

- **知识图谱模块** (`apps/knowledge/`)
  - 知识实体管理
  - 关系管理
  - 法律法规库
  - 案例库

- **智能推荐模块** (`apps/recommendations/`)
  - 推荐记录管理
  - 推荐接受/拒绝

### 3. 前端Vue3项目 ✅
- **登录认证**
  - JWT Token认证
  - 路由守卫
  - 用户状态管理

- **主布局**
  - 侧边栏导航
  - 顶部导航栏
  - 响应式设计

- **页面组件**
  - 仪表盘（Dashboard）
  - 合同列表/创建/详情
  - 模板列表
  - 审核任务列表/详情
  - 规则列表
  - 知识图谱
  - 用户管理（管理员）

### 4. 配置和文档 ✅
- 环境变量配置示例
- 完整的README文档
- API文档
- 启动脚本（Windows）

## 技术特性

### 后端
- ✅ Django REST Framework API
- ✅ JWT认证（djangorestframework-simplejwt）
- ✅ Celery异步任务处理
- ✅ django-filter过滤
- ✅ CORS支持
- ✅ 软删除机制
- ✅ 审计日志

### 前端
- ✅ Vue 3 Composition API
- ✅ Element Plus UI组件
- ✅ Vue Router路由
- ✅ Pinia状态管理
- ✅ Axios HTTP客户端
- ✅ Vite构建工具

## 快速开始

### 1. 后端设置

```bash
# 进入后端目录
cd backend

# 安装依赖
pip install -r requirements.txt

# 配置环境变量
cp .env.example .env
# 编辑.env文件，配置数据库信息

# 创建数据库（MySQL）
# CREATE DATABASE contract_review CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# 运行迁移
python manage.py migrate

# 创建超级用户
python manage.py createsuperuser

# 启动开发服务器
python manage.py runserver

# 启动Celery Worker（新终端）
celery -A config worker -l info
```

### 2. 前端设置

```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 3. 访问系统

- 前端：http://localhost:5173
- 后端API：http://localhost:8000/api/
- Django Admin：http://localhost:8000/admin/

## 项目结构

```
.
├── 数据库设计文档.md          # 完整数据库设计
├── README.md                  # 项目主文档
├── 项目说明.md                # 本文件
├── .gitignore                 # Git忽略文件
├── backend/                   # Django后端
│   ├── apps/                  # 应用模块
│   │   ├── users/            # 用户管理
│   │   ├── contracts/        # 合同管理
│   │   ├── reviews/          # 合同审核
│   │   ├── rules/            # 规则引擎
│   │   ├── clauses/          # 条款识别
│   │   ├── risks/            # 风险识别
│   │   ├── comparisons/      # 对比分析
│   │   ├── knowledge/        # 知识图谱
│   │   └── recommendations/  # 智能推荐
│   ├── config/               # 项目配置
│   ├── manage.py            # Django管理脚本
│   ├── requirements.txt     # Python依赖
│   └── .env.example         # 环境变量示例
└── frontend/                 # Vue3前端
    ├── src/
    │   ├── views/           # 页面组件
    │   ├── layouts/         # 布局组件
    │   ├── stores/          # 状态管理
    │   ├── router/          # 路由配置
    │   └── utils/           # 工具函数
    ├── package.json         # 前端依赖
    └── vite.config.js      # Vite配置
```

## 核心API端点

### 认证
- `POST /api/auth/login/` - 登录
- `POST /api/auth/refresh/` - 刷新Token

### 合同管理
- `GET /api/contracts/contracts/` - 合同列表
- `POST /api/contracts/contracts/` - 创建合同
- `GET /api/contracts/contracts/{id}/` - 合同详情
- `POST /api/contracts/contracts/{id}/create_version/` - 创建版本

### 合同审核
- `GET /api/reviews/tasks/` - 审核任务列表
- `POST /api/reviews/tasks/` - 创建审核任务
- `POST /api/reviews/tasks/{id}/start/` - 启动审核
- `GET /api/reviews/tasks/{id}/result/` - 获取审核结果

更多API请参考 `backend/README.md`

## 注意事项

1. **数据库配置**：确保MySQL 8.0已安装并运行，创建数据库后运行迁移
2. **Redis配置**：Celery需要Redis，确保Redis已安装并运行
3. **环境变量**：复制`.env.example`为`.env`并配置正确的数据库和Redis连接信息
4. **生产环境**：部署时请修改`SECRET_KEY`和`DEBUG`设置
5. **AI模型集成**：当前审核任务使用模拟数据，实际部署时需要集成大模型API

## 后续开发建议

1. **AI模型集成**
   - 集成大语言模型API（如OpenAI、文心一言等）
   - 实现真实的条款识别和风险分析

2. **文件处理**
   - 支持Word、PDF文件上传和解析
   - 实现文件内容提取和结构化

3. **知识图谱可视化**
   - 使用D3.js或ECharts实现知识图谱可视化
   - 展示实体和关系网络

4. **报告生成**
   - 实现Word/PDF格式的审核报告生成
   - 支持报告模板自定义

5. **性能优化**
   - 添加缓存机制（Redis）
   - 优化数据库查询
   - 前端代码分割和懒加载

6. **测试**
   - 编写单元测试
   - 集成测试
   - E2E测试

## 许可证

MIT License

## 联系方式

如有问题，请查看项目文档或提交Issue。

